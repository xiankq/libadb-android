# rule.md

这是一个规则文件，用于描述项目开发规范。

## 指导原则

- dart-mcp-server已集成，必要时调用它进行调试、修复或格式化代码风格
- 每个函数/类必须能直接运行，不依赖外部未提供逻辑。
- 对所有外部输入（参数、文件、网络数据等）做类型、格式、范围校验。
- 遇到非法输入或异常（如文件不存在、超时），抛出清晰的 `Exception` 并附中文说明。
- 每个 `public` 函数/类需有 Dart doc 注释，说明用途、参数、返回值、可能异常（中文优先）。
- 避免内存泄漏、重复计算、硬编码密钥等低级问题。
- 不信任任何外部输入，防止注入或崩溃。
- 单文件不宜过长，合理拆分模块。
- 复杂逻辑需加中文注释说明设计意图。
- 不得写“后续实现”“可根据需要扩展”等语句。
- 若需求模糊或有歧义，必须主动提问，不得自行假设。
- 明确告知：本次完成了什么功能，下一步建议做什么。
- 所有代码必须真实实现，禁止 `// TODO`、`NotImplementedError`、`pass` 等占位符。
- 文件不要太大，建议不要超过500行，复杂文件需要抽象拆分成多个文件。